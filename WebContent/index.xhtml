<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/pages/template.xhtml">
      	<ui:define name="login">
      		<div id="CentralizaSite">
			<f:view transient="true">
			<div id="Logo"> </div>
	      		<h:form styleClass="formLogin" id="formlogin">
	      			  	<p:growl id="msg" redisplay="false"  autoUpdate="true"  />
		      		<h:panelGrid columns="2">
		        		<p:outputLabel>Usuário</p:outputLabel>
		        		<p:inputMask value="#{autenticacaoMb.usuario.login}" mask="999.999.999-99" required="true" requiredMessage="Informe o login."/>
		        		<p:outputLabel>Senha</p:outputLabel>
		        		<p:password value="#{autenticacaoMb.usuario.senha}" maxlength="50" required="true" requiredMessage="Informe a senha."/>
		        		<p:outputLabel/>
		        	</h:panelGrid>
		        	<h:panelGrid columns="1">
		        		<p:commandButton value="ACESSAR" update="msg" action="#{autenticacaoMb.autenticar}" icon="fa fa fa-sign-in"  style="float: right;"   />
		        		<p:commandLink value="Esqueci a senha" oncomplete="PF('esqueciSenhaDialog').show();" update=":esqueciSenhaDialog" process="@this" />
		        	</h:panelGrid>
			        </h:form>
			       </f:view>
			</div>
			
			<p:dialog id="esqueciSenhaDialog" widgetVar="esqueciSenhaDialog" header="Esqueci a senha" modal="true" appendTo="@(body)">
		        	<h:form id="form-esqueci">
		        		<h:panelGrid columns="2"> 
			        		<p:outputLabel value="CPF: "/>
			        		<p:inputMask mask="999.999.999-99" value="#{usuarioMb.usuario.login}"  required="true" requiredMessage="O campo CPF é de preenchimento obrigatório."  validatorMessage="CPF Inválido!" />
		        		</h:panelGrid>
				        	<p:commandButton value="Enviar" action="#{usuarioMb.esqueciSenha}" style="float: right;" update="formlogin:msg"/>
		        	</h:form>
		        </p:dialog>
			
        </ui:define>
</ui:composition>
